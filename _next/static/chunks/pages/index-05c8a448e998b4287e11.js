(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{4675:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return z}});var n=t(5893),o=t(9008),c=t(7294),i=t(6265);function a(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function s(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?a(Object(t),!0).forEach((function(r){(0,i.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var l=["\u30e1\u30a4\u30ea\u30aa","sans-serif"],u=[100,200,300,400,500,600,700,800,900,"normal","bold","bolder","lighter"],f=["circle","cardioid","diamond","square","triangle-forward","triangle","pentagon","star"],d=function(e){return s(s({},e),{},{color:(r=e.colors,function(e,t,n){return n>=32?r[0]:n>16?r[1]:r[2]})});var r},p=function(e){var r=e.color,t=e.onChange;return(0,n.jsx)("input",{type:"color",value:r,onChange:t,className:"block w-1/2 h-8"})},h=function(e){var r=e.number,t=e.onChange,o=e.placeholder,c=e.min,i=void 0===c?0:c;return(0,n.jsx)("input",{type:"number",value:r,onChange:function(e){var r=Number(e.target.value);r<i||t(r)},placeholder:o,className:"m-0 border border-solid border-gray-300 rounded px-3 py-1.5 w-1/2 block form-control bg-white bg-clip-padding text-base font-normal text-gray-700 transition ease-in-out focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none"})},g=function(e){var r=e.text;return(0,n.jsx)("label",{className:"pr-6 text-lg text-gray-700",children:r})},b=function(e){var r=e.onChange,t=e.children;return(0,n.jsx)("select",{onChange:function(e){r(e.target.value)},onBlur:function(){},className:"form-select appearance-none block m-0 border border-solid border-gray-300 rounded px-3 py-1.5 w-full text-base font-normal text-gray-700 bg-white bg-clip-padding bg-no-repeat transition ease-in-out focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none","aria-label":"Default select example",children:t})},j=function(e){var r=e.checked,t=e.onChange;return(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"checkbox",checked:r,onChange:t,className:"peer sr-only"}),(0,n.jsx)("span",{className:"block w-16 cursor-pointer bg-gray-500 rounded-full p-1  peer-checked:bg-blue-500 after:block after:h-6 after:w-6 after:rounded-full after:bg-white after:transition  peer-checked:after:translate-x-[calc(130%)]"})]})};function x(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function m(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?x(Object(t),!0).forEach((function(r){(0,i.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):x(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var v=function(e){var r=e.option,t=e.setOption;return(0,n.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(g,{text:"font family"}),(0,n.jsx)(b,{onChange:function(e){return t((function(r){return m(m({},r),{},{fontFamily:e})}))},children:l.map((function(e){return(0,n.jsx)("option",{selected:e===r.fontFamily,children:e},e)}))})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(g,{text:"font weight"}),(0,n.jsx)(b,{onChange:function(e){return t((function(r){return m(m({},r),{},{fontWeight:e})}))},children:u.map((function(e){return(0,n.jsx)("option",{value:e,selected:e===r.fontWeight,children:e},e)}))})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(g,{text:"font colors"}),Array.from({length:r.colors.length}).map((function(e,o){return(0,n.jsx)(p,{color:r.colors[o],onChange:function(e){var n=r.colors;n[o]=e.target.value,t((function(e){return m(m({},e),{},{colors:n})}))}},o)}))]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(g,{text:"background color"}),(0,n.jsx)(p,{color:r.backgroundColor,onChange:function(e){t((function(r){return m(m({},r),{},{backgroundColor:e.target.value})}))}})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(g,{text:"grid size"}),(0,n.jsx)(h,{number:r.gridSize,onChange:function(e){t((function(r){return m(m({},r),{},{gridSize:e})}))},placeholder:"grid size"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(g,{text:"draw mask"}),(0,n.jsx)(j,{checked:r.drawMask,onChange:function(){return t((function(e){return m(m({},e),{},{drawMask:!e.drawMask})}))}})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(g,{text:"mask color"}),(0,n.jsx)(p,{color:r.maskColor,onChange:function(e){t((function(r){return m(m({},r),{},{maskColor:e.target.value})}))}})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(g,{text:"mask width"}),(0,n.jsx)(h,{number:r.gridSize,onChange:function(e){t((function(r){return m(m({},r),{},{gridSize:e})}))}})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(g,{text:"shape"}),(0,n.jsx)(b,{onChange:function(e){t((function(r){return m(m({},r),{},{shape:e})}))},children:f.map((function(e){return(0,n.jsx)("option",{selected:e===r.shape,children:e},e)}))})]})]})},y=function(e){var r=e.sentence,t=e.setSentence;return(0,n.jsx)("div",{className:"my-2 flex justify-center",children:(0,n.jsx)("textarea",{rows:5,onChange:function(e){var r=e.currentTarget.value;t(r)},placeholder:r,className:"w-full px-3 py-1 border rounded-lg text-lg text-gray-700 focus:outline-none"})})},O=function(e){var r=e.text,t=e.onClick;return(0,n.jsx)("button",{className:"bg-green-700 p-2 rounded-md w-full text-xl text-white",onClick:t,children:r})},w=t(8771),k=t.n(w),P=[].concat(["\u304c","\u306e","\u3092","\u306b","\u3078","\u3067","\u3068","\u3084"],["\u3070","\u3068","\u3057","\u3066"],["\u306f","\u3082","\u304b"],["\u306a","\u306d","\u305e","\u3088","\u308f"],["\u308c","\u305b","\u306d","\u305f","\u3060","\u3046"],[".",",","\u3002","\u3001","\u300c","\u300d","\n","(",")","\uff08","\uff09"]);function C(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function N(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?C(Object(t),!0).forEach((function(r){(0,i.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):C(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var S=function(e){var r,t=e.filter((function(e){return!P.includes(e)}));return r=t,Object.entries(r.reduce((function(e,r){var t;return N(N({},e),{},(0,i.Z)({},r,(null!==(t=e[r])&&void 0!==t?t:0)+1))}),{}))};function E(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}var D=function(e){var r=e.sentence,o=e.option,a=e.ranCount,s=(0,c.useRef)(null);return(0,c.useEffect)((function(){console.time("all"),console.time("seg");var e=(new(k())).segment(r);console.timeEnd("seg");var n=S(e);t.e(83).then(t.t.bind(t,5083,23)).then((function(e){var r=e.default;null!==s.current&&(r(s.current,function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?E(Object(t),!0).forEach((function(r){(0,i.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):E(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({list:n},d(o))),console.log(d(o)))})),console.timeEnd("all")}),[a]),(0,n.jsx)("div",{className:"my-2",children:(0,n.jsx)("canvas",{ref:s,id:"canvas",width:"800",height:"500"})})},_={fontFamily:"\u30e1\u30a4\u30ea\u30aa",fontWeight:"normal",colors:["#285943","#77af9c","#8cd790"],backgroundColor:"#f4f7f7",minSize:0,weightFactor:function(e){return Math.pow(11*e,1.1)},gridSize:function(){var e=function(){if("undefined"!==typeof document){var e=document.getElementById("canvas");if(null===e)throw new Error("canvas not found");return e}}();if(void 0!==e)return Math.round(16*e.width/1024)}(),drawMask:!1,maskColor:"#555555",maskGapWidth:void 0,minRotation:-90,maxRotation:90,rotationSteps:2,rotateRatio:.5,shape:"circle"},z=function(){var e=(0,c.useState)(0),r=e[0],t=e[1],i=(0,c.useState)(_),a=i[0],s=i[1],l=(0,c.useState)("\u543e\u8f29\u306f\u732b\u3067\u3042\u308b\u3002\u540d\u524d\u306f\u307e\u3060\u7121\u3044\u3002\n\u3069\u3053\u3067\u751f\u308c\u305f\u304b\u3068\u3093\u3068\u898b\u5f53\u304c\u3064\u304b\u306c\u3002\u4f55\u3067\u3082\u8584\u6697\u3044\u3058\u3081\u3058\u3081\u3057\u305f\u6240\u3067\u30cb\u30e3\u30fc\u30cb\u30e3\u30fc\u6ce3\u3044\u3066\u3044\u305f\u4e8b\u3060\u3051\u306f\u8a18\u61b6\u3057\u3066\u3044\u308b\u3002\u543e\u8f29\u306f\u3053\u3053\u3067\u59cb\u3081\u3066\u4eba\u9593\u3068\u3044\u3046\u3082\u306e\u3092\u898b\u305f\u3002\u3057\u304b\u3082\u3042\u3068\u3067\u805e\u304f\u3068\u305d\u308c\u306f\u66f8\u751f\u3068\u3044\u3046\u4eba\u9593\u4e2d\u3067\u4e00\u756a\u7370\u60aa\u306a\u7a2e\u65cf\u3067\u3042\u3063\u305f\u305d\u3046\u3060\u3002\u3053\u306e\u66f8\u751f\u3068\u3044\u3046\u306e\u306f\u6642\u3005\u6211\u3005\u3092\u6355\u3048\u3066\u716e\u3066\u98df\u3046\u3068\u3044\u3046\u8a71\u3067\u3042\u308b\u3002\u3057\u304b\u3057\u305d\u306e\u5f53\u6642\u306f\u4f55\u3068\u3044\u3046\u8003\u3082\u306a\u304b\u3063\u305f\u304b\u3089\u5225\u6bb5\u6050\u3057\u3044\u3068\u3082\u601d\u308f\u306a\u304b\u3063\u305f\u3002\u305f\u3060\u5f7c\u306e\u638c\u306b\u8f09\u305b\u3089\u308c\u3066\u30b9\u30fc\u3068\u6301\u3061\u4e0a\u3052\u3089\u308c\u305f\u6642\u4f55\u3060\u304b\u30d5\u30ef\u30d5\u30ef\u3057\u305f\u611f\u3058\u304c\u3042\u3063\u305f\u3070\u304b\u308a\u3067\u3042\u308b\u3002\u638c\u306e\u4e0a\u3067\u5c11\u3057\u843d\u3061\u3064\u3044\u3066\u66f8\u751f\u306e\u9854\u3092\u898b\u305f\u306e\u304c\u3044\u308f\u3086\u308b\u4eba\u9593\u3068\u3044\u3046\u3082\u306e\u306e\u898b\u59cb\u3067\u3042\u308d\u3046\u3002\u3053\u306e\u6642\u5999\u306a\u3082\u306e\u3060\u3068\u601d\u3063\u305f\u611f\u3058\u304c\u4eca\u3067\u3082\u6b8b\u3063\u3066\u3044\u308b\u3002\u7b2c\u4e00\u6bdb\u3092\u3082\u3063\u3066\u88c5\u98fe\u3055\u308c\u3079\u304d\u306f\u305a\u306e\u9854\u304c\u3064\u308b\u3064\u308b\u3057\u3066\u307e\u308b\u3067\u85ac\u7f36\u3060\u3002\u305d\u306e\u5f8c\u732b\u306b\u3082\u3060\u3044\u3076\u9022\u3063\u305f\u304c\u3053\u3093\u306a\u7247\u8f2a\u306b\u306f\u4e00\u5ea6\u3082\u51fa\u4f1a\u308f\u3057\u305f\u4e8b\u304c\u306a\u3044\u3002\u306e\u307f\u306a\u3089\u305a\u9854\u306e\u771f\u4e2d\u304c\u3042\u307e\u308a\u306b\u7a81\u8d77\u3057\u3066\u3044\u308b\u3002\u305d\u3046\u3057\u3066\u305d\u306e\u7a74\u306e\u4e2d\u304b\u3089\u6642\u3005\u3077\u3046\u3077\u3046\u3068\u7159\u3092\u5439\u304f\u3002\u3069\u3046\u3082\u54bd\u305b\u307d\u304f\u3066\u5b9f\u306b\u5f31\u3063\u305f\u3002\u3053\u308c\u304c\u4eba\u9593\u306e\u98f2\u3080\u7159\u8349\u3068\u3044\u3046\u3082\u306e\u3067\u3042\u308b\u4e8b\u306f\u3088\u3046\u3084\u304f\u3053\u306e\u9803\u77e5\u3063\u305f\u3002"),u=l[0],f=l[1];return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.default,{children:(0,n.jsx)("title",{children:"Japanese Wordcloud"})}),(0,n.jsx)("div",{className:"min-h-screen relative flex justify-center",children:(0,n.jsxs)("div",{className:"w-full",children:[(0,n.jsxs)("header",{className:"px-6 py-2 border-b border-gray-200 flex justify-between",children:[(0,n.jsx)("p",{className:"text-2xl text-gray-600",children:"Japanese Word Cloud"}),(0,n.jsx)("a",{href:"https://github.com/ran350/web-wordcloud",children:(0,n.jsx)("img",{src:"https://icongr.am/devicon/github-original.svg?size=8&color=currentColor",alt:"GitHub",className:"w-8 h-full align-middle"})})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsxs)("div",{className:"mx-auto",children:[(0,n.jsx)(D,{sentence:u,option:a,ranCount:r}),(0,n.jsx)(y,{sentence:u,setSentence:f})]}),(0,n.jsxs)("div",{className:"px-8 w-80 bg-gray-50 flex flex-col justify-between",children:[(0,n.jsx)("div",{className:"pb-4 max-h-[600px] overflow-y-scroll",children:(0,n.jsx)(v,{option:a,setOption:s})}),(0,n.jsx)(O,{text:"Run",onClick:function(){return t(r+1)}})]})]})]})})]})}},5301:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(4675)}])}},function(e){e.O(0,[771,774,888,179],(function(){return r=5301,e(e.s=r);var r}));var r=e.O();_N_E=r}]);