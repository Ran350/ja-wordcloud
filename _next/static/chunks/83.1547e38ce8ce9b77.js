"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[83],{5083:function(t,e){var a,r,i,o,n,s,l,f;window.setImmediate||(window.setImmediate=window.msSetImmediate||window.webkitSetImmediate||window.mozSetImmediate||window.oSetImmediate||function(){if(!window.postMessage||!window.addEventListener)return null;var t=[void 0],e="zero-timeout-message";return window.addEventListener("message",function(a){if("string"==typeof a.data&&a.data.substr(0,e.length)===e){a.stopImmediatePropagation();var r=parseInt(a.data.substr(e.length),36);t[r]&&(t[r](),t[r]=void 0)}},!0),window.clearImmediate=function(e){t[e]&&(t[e]=void 0)},function(a){var r=t.length;return t.push(a),window.postMessage(e+r.toString(36),"*"),r}}()||function(t){window.setTimeout(t,0)}),window.clearImmediate||(window.clearImmediate=window.msClearImmediate||window.webkitClearImmediate||window.mozClearImmediate||window.oClearImmediate||function(t){window.clearTimeout(t)}),r=this,i=function(){var t=document.createElement("canvas");if(!t||!t.getContext)return!1;var e=t.getContext("2d");return!!e&&!!e.getImageData&&!!e.fillText&&!!Array.prototype.some&&!!Array.prototype.push}(),o=function(){if(i){for(var t,e,a=document.createElement("canvas").getContext("2d"),r=20;r;){if(a.font=r.toString(10)+"px sans-serif",a.measureText("Ｗ").width===t&&a.measureText("m").width===e)return r+1;t=a.measureText("Ｗ").width,e=a.measureText("m").width,r--}return 0}}(),n=function(t){if(!Array.isArray(t))return[];var e=t.slice();return e.splice(0,2),e},s=function(t){for(var e,a,r=t.length;r;)e=Math.floor(Math.random()*r),a=t[--r],t[r]=t[e],t[e]=a;return t},l={},(f=function(t,e){if(i){var a,r,f,c,d,h,u,m,w,g=Math.floor(Math.random()*Date.now());Array.isArray(t)||(t=[t]),t.forEach(function(e,a){if("string"==typeof e){if(t[a]=document.getElementById(e),!t[a])throw Error("The element id specified is not found.")}else if(!e.tagName&&!e.appendChild)throw Error("You must pass valid HTML elements, or ID of the element.")});var v={list:[],fontFamily:'"Trebuchet MS", "Heiti TC", "微軟正黑體", "Arial Unicode MS", "Droid Fallback Sans", sans-serif',fontWeight:"normal",color:"random-dark",minSize:0,weightFactor:1,clearCanvas:!0,backgroundColor:"#fff",gridSize:8,drawOutOfBound:!1,shrinkToFit:!1,origin:null,drawMask:!1,maskColor:"rgba(255,0,0,0.3)",maskGapWidth:.3,wait:0,abortThreshold:0,abort:function(){},minRotation:-Math.PI/2,maxRotation:Math.PI/2,rotationSteps:0,shuffle:!0,rotateRatio:.1,shape:"circle",ellipticity:.65,classes:null,hover:null,click:null};if(e)for(var p in e)p in v&&(v[p]=e[p]);if("function"!=typeof v.weightFactor){var M=v.weightFactor;v.weightFactor=function(t){return t*M}}if("function"!=typeof v.shape)switch(v.shape){case"circle":default:v.shape="circle";break;case"cardioid":v.shape=function(t){return 1-Math.sin(t)};break;case"diamond":v.shape=function(t){var e=t%(2*Math.PI/4);return 1/(Math.cos(e)+Math.sin(e))};break;case"square":v.shape=function(t){return Math.min(1/Math.abs(Math.cos(t)),1/Math.abs(Math.sin(t)))};break;case"triangle-forward":v.shape=function(t){var e=t%(2*Math.PI/3);return 1/(Math.cos(e)+Math.sqrt(3)*Math.sin(e))};break;case"triangle":case"triangle-upright":v.shape=function(t){var e=(t+3*Math.PI/2)%(2*Math.PI/3);return 1/(Math.cos(e)+Math.sqrt(3)*Math.sin(e))};break;case"pentagon":v.shape=function(t){var e=(t+.955)%(2*Math.PI/5);return 1/(Math.cos(e)+.726543*Math.sin(e))};break;case"star":v.shape=function(t){var e=(t+.955)%(2*Math.PI/10);return(t+.955)%(2*Math.PI/5)-2*Math.PI/10>=0?1/(Math.cos(2*Math.PI/10-e)+3.07768*Math.sin(2*Math.PI/10-e)):1/(Math.cos(e)+3.07768*Math.sin(e))}}v.gridSize=Math.max(Math.floor(v.gridSize),4);var x=v.gridSize,b=x-v.maskGapWidth,k=Math.abs(v.maxRotation-v.minRotation),T=Math.abs(Math.floor(v.rotationSteps)),I=Math.min(v.maxRotation,v.minRotation);switch(v.color){case"random-dark":u=function(){return Y(10,50)};break;case"random-light":u=function(){return Y(50,90)};break;default:"function"==typeof v.color&&(u=v.color)}"function"==typeof v.fontWeight&&(m=v.fontWeight);var y=null;"function"==typeof v.classes&&(y=v.classes);var C=!1,E=[],S=function(t){var e,a,r=t.currentTarget,i=r.getBoundingClientRect();t.touches?(e=t.touches[0].clientX,a=t.touches[0].clientY):(e=t.clientX,a=t.clientY);var o=e-i.left,n=a-i.top,s=Math.floor(o*(r.width/i.width||1)/x),l=Math.floor(n*(r.height/i.height||1)/x);return E[s][l]},F=function(t){var e=S(t);if(w!==e){if(w=e,!e){v.hover(void 0,void 0,t);return}v.hover(e.item,e.dimension,t)}},P=function(t){var e=S(t);e&&(v.click(e.item,e.dimension,t),t.preventDefault())},R=[],O=function(t){if(R[t])return R[t];var e=8*t,a=e,r=[];for(0===t&&r.push([c[0],c[1],0]);a--;){var i=1;"circle"!==v.shape&&(i=v.shape(a/e*2*Math.PI)),r.push([c[0]+t*i*Math.cos(-a/e*2*Math.PI),c[1]+t*i*Math.sin(-a/e*2*Math.PI)*v.ellipticity,a/e*2*Math.PI])}return R[t]=r,r},A=function(){return v.abortThreshold>0&&new Date().getTime()-h>v.abortThreshold},z=function(t,e,a,r){var i,n,s,l,f=v.weightFactor(e);if(f<=v.minSize)return!1;var c=1;f<o&&(c=function(){for(var t=2;t*f<o;)t+=2;return t}()),i=m?m(t,e,f,r):v.fontWeight;var d=document.createElement("canvas"),h=d.getContext("2d",{willReadFrequently:!0});h.font=i+" "+(f*c).toString(10)+"px "+v.fontFamily;var u=h.measureText(t).width/c,w=Math.max(f*c,h.measureText("m").width,h.measureText("Ｗ").width)/c,g=u+2*w,p=3*w,M=Math.ceil(g/x),b=Math.ceil(p/x),k=-u/2,T=-(.4*w),I=Math.ceil(((g=M*x)*Math.abs(Math.sin(a))+(p=b*x)*Math.abs(Math.cos(a)))/x),y=Math.ceil((g*Math.abs(Math.cos(a))+p*Math.abs(Math.sin(a)))/x),C=y*x,E=I*x;d.setAttribute("width",C),d.setAttribute("height",E),h.scale(1/c,1/c),h.translate(C*c/2,E*c/2),h.rotate(-a),h.font=i+" "+(f*c).toString(10)+"px "+v.fontFamily,h.fillStyle="#000",h.textBaseline="middle",h.fillText(t,k*c,(T+.5*f)*c);var S=h.getImageData(0,0,C,E).data;if(A())return!1;for(var F=[],P=y,R=[I/2,y/2,I/2,y/2];P--;)for(n=I;n--;){l=x;t:for(;l--;)for(s=x;s--;)if(S[((n*x+l)*C+(P*x+s))*4+3]){F.push([P,n]),P<R[3]&&(R[3]=P),P>R[1]&&(R[1]=P),n<R[0]&&(R[0]=n),n>R[2]&&(R[2]=n);break t}}return{mu:c,occupied:F,bounds:R,gw:y,gh:I,fillTextOffsetX:k,fillTextOffsetY:T,fillTextWidth:u,fillTextHeight:w,fontSize:f}},L=function(t,e,i,o,n){for(var s=n.length;s--;){var l=t+n[s][0],c=e+n[s][1];if(l>=r||c>=f||l<0||c<0){if(!v.drawOutOfBound)return!1;continue}if(!a[l][c])return!1}return!0},W=function(e,a,r,i,o,n,s,l,f,c){var d,h,w,g=r.fontSize;d=u?u(i,o,g,n,s,c):v.color,h=m?m(i,o,g,c):v.fontWeight,w=y?y(i,o,g,c):v.classes,t.forEach(function(t){if(t.getContext){var o=t.getContext("2d"),n=r.mu;o.save(),o.scale(1/n,1/n),o.font=h+" "+(g*n).toString(10)+"px "+v.fontFamily,o.fillStyle=d,o.translate((e+r.gw/2)*x*n,(a+r.gh/2)*x*n),0!==l&&o.rotate(-l),o.textBaseline="middle",o.fillText(i,r.fillTextOffsetX*n,(r.fillTextOffsetY+.5*g)*n),o.restore()}else{var s=document.createElement("span"),c="";c="rotate("+-l/Math.PI*180+"deg) ",1!==r.mu&&(c+="translateX(-"+r.fillTextWidth/4+"px) scale("+1/r.mu+")");var u={position:"absolute",display:"block",font:h+" "+g*r.mu+"px "+v.fontFamily,left:(e+r.gw/2)*x+r.fillTextOffsetX+"px",top:(a+r.gh/2)*x+r.fillTextOffsetY+"px",width:r.fillTextWidth+"px",height:r.fillTextHeight+"px",lineHeight:g+"px",whiteSpace:"nowrap",transform:c,webkitTransform:c,msTransform:c,transformOrigin:"50% 40%",webkitTransformOrigin:"50% 40%",msTransformOrigin:"50% 40%"};for(var m in d&&(u.color=d),s.textContent=i,u)s.style[m]=u[m];if(f)for(var p in f)s.setAttribute(p,f[p]);w&&(s.className+=w),t.appendChild(s)}})},D=function(e,i,o,n,s){e>=r||i>=f||e<0||i<0||(a[e][i]=!1,o&&t[0].getContext("2d").fillRect(e*x,i*x,b,b),C&&(E[e][i]={item:s,dimension:n}))},B=function(e,a,i,o,n,s){var l,c,d=n.occupied,h=v.drawMask;if(h&&((l=t[0].getContext("2d")).save(),l.fillStyle=v.maskColor),C){var u=n.bounds;c={x:(e+u[3])*x,y:(a+u[0])*x,w:(u[1]-u[3]+1)*x,h:(u[2]-u[0]+1)*x}}for(var m=d.length;m--;){var w=e+d[m][0],g=a+d[m][1];w>=r||g>=f||w<0||g<0||D(w,g,h,c,s)}h&&l.restore()},H=function t(e){Array.isArray(e)?(a=e[0],i=e[1]):(a=e.word,i=e.weight,o=e.attributes);var a,i,o,l=0===v.rotateRatio||Math.random()>v.rotateRatio?0:0===k?I:T>0?I+Math.floor(Math.random()*T)*k/(T-1):I+Math.random()*k,c=n(e),h=z(a,i,l,c);if(!h||A())return!1;if(!v.drawOutOfBound&&!v.shrinkToFit){var u=h.bounds;if(u[1]-u[3]+1>r||u[2]-u[0]+1>f)return!1}for(var m=d+1,w=function(t){var r=Math.floor(t[0]-h.gw/2),n=Math.floor(t[1]-h.gh/2),s=h.gw,f=h.gh;return!!L(r,n,s,f,h.occupied)&&(W(r,n,h,a,i,d-m,t[2],l,o,c),B(r,n,s,f,h,e),!0)};m--;){var g=O(d-m);if(v.shuffle&&s(g=[].concat(g)),g.some(w))return!0}return!!v.shrinkToFit&&(Array.isArray(e)?e[1]=3*e[1]/4:e.weight=3*e.weight/4,t(e))},X=function(e,a,r){if(a)return!t.some(function(t){var a=new CustomEvent(e,{detail:r||{}});return!t.dispatchEvent(a)},this);t.forEach(function(t){var a=new CustomEvent(e,{detail:r||{}});t.dispatchEvent(a)},this)};!function(){var e,i,o=t[0];if(o.getContext)r=Math.ceil(o.width/x),f=Math.ceil(o.height/x);else{var n=o.getBoundingClientRect();r=Math.ceil(n.width/x),f=Math.ceil(n.height/x)}if(X("wordcloudstart",!0)){if(c=v.origin?[v.origin[0]/x,v.origin[1]/x]:[r/2,f/2],d=Math.floor(Math.sqrt(r*r+f*f)),a=[],!o.getContext||v.clearCanvas)for(t.forEach(function(t){if(t.getContext){var e=t.getContext("2d");e.fillStyle=v.backgroundColor,e.clearRect(0,0,r*(x+1),f*(x+1)),e.fillRect(0,0,r*(x+1),f*(x+1))}else t.textContent="",t.style.backgroundColor=v.backgroundColor,t.style.position="relative"}),s=r;s--;)for(a[s]=[],u=f;u--;)a[s][u]=!0;else{var s,u,m,p,M,b=document.createElement("canvas").getContext("2d");b.fillStyle=v.backgroundColor,b.fillRect(0,0,1,1);var k=b.getImageData(0,0,1,1).data,T=o.getContext("2d").getImageData(0,0,r*x,f*x).data;for(s=r;s--;)for(a[s]=[],u=f;u--;){M=x;t:for(;M--;)for(p=x;p--;)for(m=4;m--;)if(T[((u*x+M)*r*x+(s*x+p))*4+m]!==k[m]){a[s][u]=!1;break t}!1!==a[s][u]&&(a[s][u]=!0)}T=b=k=void 0}if(v.hover||v.click){for(C=!0,s=r+1;s--;)E[s]=[];v.hover&&o.addEventListener("mousemove",F),v.click&&(o.addEventListener("click",P),o.style.webkitTapHighlightColor="rgba(0, 0, 0, 0)"),o.addEventListener("wordcloudstart",function t(){o.removeEventListener("wordcloudstart",t),o.removeEventListener("mousemove",F),o.removeEventListener("click",P),w=void 0})}m=0,0!==v.wait?(e=window.setTimeout,i=window.clearTimeout):(e=window.setImmediate,i=window.clearImmediate);var I=function(e,a){t.forEach(function(t){t.removeEventListener(e,a)},this)},y=function t(){I("wordcloudstart",t),i(l[g])};(function(e,a){t.forEach(function(t){t.addEventListener(e,a)},this)})("wordcloudstart",y),l[g]=e(function t(){if(m>=v.list.length){i(l[g]),X("wordcloudstop",!1),I("wordcloudstart",y),delete l[g];return}h=new Date().getTime();var a=H(v.list[m]),r=!X("wordclouddrawn",!0,{item:v.list[m],drawn:a});if(A()||r){i(l[g]),v.abort(),X("wordcloudabort",!1),X("wordcloudstop",!1),I("wordcloudstart",y),delete l[g];return}m++,l[g]=e(t,v.wait)},v.wait)}}()}function Y(t,e){return"hsl("+(360*Math.random()).toFixed()+","+(30*Math.random()+70).toFixed()+"%,"+(Math.random()*(e-t)+t).toFixed()+"%)"}}).isSupported=i,f.minFontSize=o,f.stop=function(){if(l)for(var t in l)window.clearImmediate(l[t])},r.WordCloud=f,void 0!==(a=(function(){return f}).apply(e,[]))&&(t.exports=a)}}]);